import axios from 'axios'; const API = process.env.REACT_APP_API_URL || ''; const instance = axios.create({ baseURL: API }); instance.interceptors.request.use(cfg=>{ const t = localStorage.getItem('token'); if(t) cfg.headers.Authorization='Bearer '+t; const lang = localStorage.getItem('i18nextLng') || 'ru'; if(cfg.params) cfg.params.lang = cfg.params.lang || lang; else cfg.params = { lang }; return cfg; }); export default instance;
