import { useTranslation } from 'react-i18next'; import LangSwitch from '../components/LangSwitch';
import React, {useEffect, useState} from 'react'; import api from '../utils/api'; import ThemeToggle from '../components/ThemeToggle'; export default function Home(){ const { t, i18n } = useTranslation(); const [news, setNews]=useState([]); const [cargos, setCargos]=useState([]); useEffect(()=>{ api.get('/api/news').then(r=>setNews(r.data||r)).catch(()=>{}); api.get('/api/cargo').then(r=>setCargos(r.data||r)).catch(()=>{}); },[]); return (<div className='container'><div className='header'><h1>TransitSNG</h1><div style={{display:'flex',gap:8}}><ThemeToggle/><a href='/admin'>Admin</a></div></div><div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:16}}>{cargos.slice(0,6).map(c=>(<div className='card' key={c.id}><h3>{c.title}</h3><div>{c.from_city} → {c.to_city}</div><div>{c.weight_kg} kg</div></div>))}</div><h2 style={{marginTop:24}}>Новости</h2>{news.map(n=>(<div className='card' key={n.id} style={{marginTop:12}}><h3>{n.title}</h3><p>{n.content}</p></div>))}</div>); }
